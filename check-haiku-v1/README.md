# check-haiku-v1

素朴に [`mb_strlen`](https://www.php.net/manual/ja/function.mb-strlen.php) 関数を使って、合計が17文字なら俳句判定をするスクリプトです。

## 実行方法

以下のように実行してください。

```sh
php ./check-haiku-v1.php
```

標準入力から文字列を受け取るので試したい文字列を渡してください。

## 試した結果

### :x: 小田原でみんなで一句詠みたいな

- Expected: 俳句
- Received: Not 俳句

漢字を1文字1音と判定してしまっている。

```sh
php ./check-haiku-v1.php
小田原でみんなで一句詠みたいな
上五: 小田原でみ (5音)
中七: んなで一句詠み (7音)
下五: たいな (3音)
合計: 15音

これは俳句ではありません。
```

### :o: おだわらでみんなでいっくよみたいな

- Expected: 俳句
- Received: 俳句

全てひらがなかカタカナに変換すると判定が通る。

```sh
php ./check-haiku-v1.php
おだわらでみんなでいっくよみたいな
上五: おだわらで (5音)
中七: みんなでいっく (7音)
下五: よみたいな (5音)
合計: 17音

これは俳句です。
```

### :x: じゅうななもじのぶんしょうをつくる

- Expected: Not 俳句
- Received: 俳句

17文字であればなんでもOKという判定になっている。例えば「じゅう」は2音なのに3文字なので3音判定となっている。

```sh
php ./check-haiku-v1.php
じゅうななもじのぶんしょうをつくる
上五: じゅうなな (5音)
中七: もじのぶんしょ (7音)
下五: うをつくる (5音)
合計: 17音

これは俳句です。
```

### :x: もじすうてきにあっててもだめだよね

- Expected: Not 俳句
- Received: 俳句

文章の切れ目として、「文字数的に」を「文字数て」で区切るのは不自然なのでこれも俳句ではない判定であってほしい。

```sh
php ./check-haiku-v1.php
もじすうてきにあっててもだめだよね
上五: もじすうて (5音)
中七: きにあってても (7音)
下五: だめだよね (5音)
合計: 17音

これは俳句です。
```
